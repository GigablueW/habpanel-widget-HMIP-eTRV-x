{
    "template": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <title>Widget for HmIP-eTRV-2</title>\n  <meta charset=\"utf-8\"></meta>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"></meta>\n  <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\"></link>\n  <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"></script>\n  <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"></script>\n</head>\n<body>\n  <script type=\"text/ng-template\" id=\"mySetTemp.html\">\n    <!-- Set Point -->\n    <div ng-init=\"setpointmodel={ \n                  name: 'Setpoint', \n                  item: config.genericname+'_TempSet', \n                  floor: 10, \n                  ceil: 35, \n                  step: 0.5,\n                  hidelabel: true,\n                  unit: '°C'\n                  }\">\n      <widget-slider ng-model=\"setpointmodel\"></widget-switch>\n    </div>\n  </script>\n  <widget-icon ng-if=\"config.backdrop\" iconset=\"config.backdrop_iconset\" icon=\"config.backdrop\"\n               backdrop=\"true\" center=\"true\">\n  </widget-icon>\n\t<h5>\n  {{ngModel.name}}\n  </h5>\n  <div class=\"row\">\n    <div class=\"col-xs-4\"><span><widget-icon iconset=\"'eclipse-smarthome-classic'\"  icon=\"'heating'\" \t\t size=\"32\" state=\"(itemValue(config.genericname+'_TempSet')-12)*100/(28-12)\" /></span>TempSet</div>\n    <div class=\"col-xs-4\" ng-if=\"(itemValue(config.genericname+'_TempAct') - itemValue(config.genericname+'_TempSet')) > 0.5\"><span>\n      <widget-icon iconset=\"'custom-icon'\"    \t\t\t\t\t  icon=\"'thermometer'\" size=\"32\" state=\"'hot'\"/>\n      </span>TempAct\n    </div>\n    <div class=\"col-xs-4\" ng-if=\"(itemValue(config.genericname+'_TempSet') - itemValue(config.genericname+'_TempAct') < 0.6) && (itemValue(config.genericname+'_TempAct') - itemValue(config.genericname+'_TempSet') < 0.6)\"><span>\n      <widget-icon iconset=\"'custom-icon'\"    \t\t\t\t\t  icon=\"'thermometer'\" size=\"32\" state=\"'warm'\"/>\n      </span>TempAct\n    </div>\n    <div class=\"col-xs-4\" ng-if=\"(itemValue(config.genericname+'_TempSet') - itemValue(config.genericname+'_TempAct')) > 0.5\"><span>\n      <widget-icon iconset=\"'custom-icon'\"    \t\t\t\t\t  icon=\"'thermometer'\" size=\"32\" state=\"'cold'\"/>\n      </span>TempAct\n    </div>\n    <div class=\"col-xs-4\"><span><widget-icon iconset=\"'custom-icon'\" \t\t\t\t\t\t\t\ticon=\"'window'\"  \t\t size=\"32\" state=\"itemValue(config.genericname+'_WindowState')\"/></span>Window</div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-xs-4\"><span style=\"color: red;  font-size: 10pt\">\n        <button class=\"btn btn-link btn-sm\"\n          ng-click=\"openModal('mySetTemp.html', true, 'lg')\">\n          {{itemValue(config.genericname+'_TempSet')}}°C\n        </button></span></div>\n    <div class=\"col-xs-4\"><span style=\"color: cyan; font-size: 10pt\">{{itemValue(config.genericname+'_TempAct')}}°C</span></div>\n    <div class=\"col-xs-4\"><span style=\"color: blue; font-size: 10pt\">{{itemValue(config.genericname+'_WindowState')}}</span></div>\n  </div>\n\n  <table class=\"table\">\n    <tr>\n      <td class=\"text-left\">   <div class=\"BatteryMode\" style=\"color: cyan; font-size: 12pt; font-weight: bold\" ng-if=\"itemValue(config.genericname+'_BatteryStatus') == 'ON'\">battery low</div></td>\n      <td class=\"text-center\"> <div class=\"Update\" \t\t  style=\"color: red;  font-size: 12pt; font-weight: bold\" ng-if=\"itemValue(config.genericname+'_UpdatePending') == 'ON'\">new firmware</div></td>\n      <td class=\"text-right\">  <div class=\"PartyMode\"   style=\"color: blue; font-size: 12pt; font-weight: bold\" ng-if=\"itemValue(config.genericname+'_PartyMode') \t  == 'ON'\">partymode</div></td>\n    </tr>\n    <tr>\n      <!-- div class=\"btn-group\" uib-dropdown dropdown-append-to-body=\"true\"\n         ng-init=\"Profiles = [\n          {\n            'value': '1',\n            'label': 'Normal',\n            'myicon': 'glyphicon glyphicon-record'\n          },\n          {\n            'value': '2',\n            'label': 'Absense',\n            'myicon': 'glyphicon glyphicon-road'\n          },\n                   {\n            'value': '3',\n            'label': 'vacation',\n            'myicon': 'glyphicon glyphicon-home'\n          },\n        ]\">\n       <div class=\"btn-group btn-group-justified\" btn-checkbox-true >\n            <label class=\"btn-xs btn-primary\" ng-model=\"itemValue(config.profile)\" uib-btn-radio=\"option.value\"\n                    ng-click=\"sendCmd(config.profile, option.value)\" ng-repeat=\"option in Profiles\">\n               <span class={{option.myicon}} aria-hidden=\"true\"></span> {{option.label}}</label>\n        </div >  \n      </div -->\n    </tr>\n    <tr>\n    <div class=\"boost-remaining\" ng-if=\"itemValue('ThermostatSofa_BoostTime') > 0\">\n      <img width=\"16px\" height=\"16px\" ng-src=\"/icon/fire?format=svg\" title=\"fire\" src=\"/icon/fire?format=svg\" />\n      <span class=\"boost-remaining\">Boost active for {{itemValue('ThermostatSofa_BoostTime')}} seconds</span>\n    </div>\n    </tr>\n  </table>\n </body>\n</html>\n",
    "name": "eTRV-2 widget for Homematic-IP",
    "author": "Michael Rossner",
    "description": "Manipulate the HmIP-eTRV-2 Homematic-IP element",
    "settings": [
        {
            "type": "string",
            "id": "genericname",
            "label": "GenericName",
            "description": "Add generic name of item. Items with names <generic>+(_TempAct, _TempSet, _BatteryStatus, _UpdatePending, _BoostMode, _PartyMode) are required"
        },
        {
            "type": "icon",
            "id": "backdrop",
            "label": "Icon",
            "description": "Background Icon"
        }
    ]
}